nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?:Distance\\:\\[)(.|\\n)*'))
)
tabela %>% select(-path, -raw, -comment)
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?:Distance\\:\\[)(.|\\n)*'))
)
tabela %>% select(-path, -raw, -comment)
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?:Distance\\:\\[\\r\\n)(.|\\n)*'))
)
tabela %>% select(-path, -raw, -comment)
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n)*'))
)
tabela %>% select(-path, -raw, -comment)
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n)*(?=\\])'))
)
tabela %>% select(-path, -raw, -comment)
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n)*(?=PosX)'))
)
tabela %>% select(-path, -raw, -comment)
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=PosX)'))
)
tabela %>% select(-path, -raw, -comment)
View(tabela)
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\r\\n\\])'))
)
tabela %>% select(-path, -raw, -comment)
tabela$Distance[1]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n\\]\\r\\n)'))
)
tabela %>% select(-path, -raw, -comment)
tabela$Distance[1]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\n)'))
)
tabela %>% select(-path, -raw, -comment)
tabela$Distance[1]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)'))
)
tabela %>% select(-path, -raw, -comment)
tabela$Distance[1]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r')
)
tabela %>% select(-path, -raw, -comment)
tabela$Distance[1]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE)
)
tabela %>% select(-path, -raw, -comment)
29*29
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
PosX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
)
tabela %>% select(-path, -raw, -comment)
tabela$PosX[1]
tabela$PosX[2]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
PosX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
PosY = str_split(str_trim(str_extract(raw, pattern = '(?<=PosY: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE)
)
tabela %>% select(-path, -raw, -comment)
tabela$PosY[2]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
PosX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
PosY = str_split(str_trim(str_extract(raw, pattern = '(?<=PosY: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Demand = str_split(str_trim(str_extract(raw, pattern = '(?<=Demand: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Draft = str_split(str_trim(str_extract(raw, pattern = '(?<=Draft: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE)
)
tabela %>% select(-path, -raw, -comment)
tabela$Demand[2]
tabela$Demand[1]
tabela$Draft[1]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
PosX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
PosY = str_split(str_trim(str_extract(raw, pattern = '(?<=PosY: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Demand = str_split(str_trim(str_extract(raw, pattern = '(?<=Demand: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Draft = str_split(str_trim(str_extract(raw, pattern = '(?<=Draft: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = TRUE)
)
tabela %>% select(-path, -raw, -comment)
tabela$Draft[1]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
PosX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
PosY = str_split(str_trim(str_extract(raw, pattern = '(?<=PosY: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Demand = str_split(str_trim(str_extract(raw, pattern = '(?<=Demand: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Draft = list(str_split(str_trim(str_extract(raw, pattern = '(?<=Draft: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = TRUE))
)
tabela %>% select(-path, -raw, -comment)
tabela$Draft[1]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
PosX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
PosY = str_split(str_trim(str_extract(raw, pattern = '(?<=PosY: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Demand = str_split(str_trim(str_extract(raw, pattern = '(?<=Demand: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Draft = str_split(str_trim(str_extract(raw, pattern = '(?<=Draft: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE)
)
tabela %>% select(-path, -raw, -comment)
tabela$Draft[1]
tabela$Draft[2]
tabela$Draft[3]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
Nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
PosX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
PosY = str_split(str_trim(str_extract(raw, pattern = '(?<=PosY: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Demand = str_split(str_trim(str_extract(raw, pattern = '(?<=Demand: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
Draft = str_split(str_trim(str_extract(raw, pattern = '(?<=Draft: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE)
) %>% arrange(name, n, m)
tabela %>% select(-path, -raw, -comment)
tabela$Draft[1]
tabela$Draft[2]
View(tabela)
write_rds(tabela, file = "inst/extdata/TSPDL_RAW.rds")
tabela %>% select(-path, -raw, -comment, filename)
tabela %>% select(-path, -raw, -comment, -filename)
write_rds(tabela %>% select(-path, -raw, -comment, -filename), file = "inst/extdata/TSPDL_DATA.rds")
tspdl_data <-read_rds("inst/extdata/TSPDL_DATA.rds")
View(tspdl_data)
tspdl_data$Draft[240]
length(tspdl_data$Draft[240])
length(tspdl_data$Draft[240][[1]])
length(tspdl_data$Draft[199][[1]])
length(tspdl_data$Draft[171][[1]])
length(tspdl_data$Distance[171][[1]])
48*48
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
posX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
posY = str_split(str_trim(str_extract(raw, pattern = '(?<=PosY: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
demand = str_split(str_trim(str_extract(raw, pattern = '(?<=Demand: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
draft = str_split(str_trim(str_extract(raw, pattern = '(?<=Draft: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE)
) %>% arrange(name, n, m)
write_rds(tabela, file = "inst/extdata/TSPDL_RAW.rds")
write_rds(tabela %>% select(-path, -raw, -comment, -filename), file = "inst/extdata/TSPDL_DATA.rds")
tspdl_data <-read_rds("inst/extdata/TSPDL_DATA.rds")
tspdl_data
unlist(tspdl_data$draft[1])
as_numeric(unlist(tspdl_data$draft[1]))
as.numeric(unlist(tspdl_data$draft[1]))
as.integer(unlist(tspdl_data$draft[1]))
list(draft = as.integer(unlist(tspdl_data$draft[1])))
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
posX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
posY = str_split(str_trim(str_extract(raw, pattern = '(?<=PosY: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
demand = str_split(str_trim(str_extract(raw, pattern = '(?<=Demand: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
draft = list(draft = as.integer(unlist(str_split(str_trim(str_extract(raw, pattern = '(?<=Draft: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE))))
) %>% arrange(name, n, m)
tabela %>% select(-path, -raw, -comment, -filename)
tabela$draft[1]
tabela <- tibble(path = list.files(path = 'inst/extdata/tspdl/', full.names = TRUE)) %>%
mutate(filename = str_sub(path, str_locate(path, '//')[[1]] + 2, end = -1),
raw = sapply(path, read_file),
name = str_trim(str_extract(raw, pattern = '(?<=\\!name:)(.)*(?=\\r\\n!type)')),
n = as.integer(str_trim(str_extract(filename, pattern = '(?<=_)(.)*(?=_)'))),
m = as.integer(str_trim(str_extract(filename, pattern = '(?<=_\\d{1,2}_)(.)*(?=\\.dat)'))),
type = str_trim(str_extract(raw, pattern = '(?<=\\!type:)(.)*(?=\\r\\n!comment)')),
comment = str_trim(str_extract(raw, pattern = '(?<=\\!comment:)(.)*(?=\\r\\nN)')),
N = as.integer(str_trim(str_extract(raw, pattern = '(?<=N:)(.)*(?=\\r\\n!capacity)'))),
capacity = str_trim(str_extract(raw, pattern = '(?<=\\!capacity)(.)*(?=\\r\\n\\!edgeWeightType)')),
edgeWeightType = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightType:)(.)*(?=\\r\\n!edgeWeightFormat)')),
edgeWeightFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeWeightFormat:)(.)*(?=\\r\\n!edgeDataFormat)')),
edgeDataFormat = str_trim(str_extract(raw, pattern = '(?<=\\!edgeDataFormat:)(.)*(?=\\r\\n!nodeCoordType)')),
nodeCoordType = str_trim(str_extract(raw, pattern = '(?<=\\!nodeCoordType:)(.)*(?=\\r\\n!displayDataType)')),
displayDataType = str_trim(str_extract(raw, pattern = '(?<=\\!displayDataType:)(.)*(?=\\r\\nNodes)')),
nodes = str_split(str_trim(str_extract(raw, pattern = '(?<=Nodes: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
distance = str_split(str_remove_all(str_trim(str_extract(raw, pattern = '(?<=Distance\\:\\[\\r\\n)(.|\\n|\\r)*(?=\\s\\r\\n.\\r\\nPosX:)')), pattern = '\\n|\\r'), pattern = '\\s', simplify = FALSE),
posX = str_split(str_trim(str_extract(raw, pattern = '(?<=PosX: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
posY = str_split(str_trim(str_extract(raw, pattern = '(?<=PosY: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
demand = str_split(str_trim(str_extract(raw, pattern = '(?<=Demand: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE),
draft = str_split(str_trim(str_extract(raw, pattern = '(?<=Draft: \\[\\r\\n)(.)*(?=\\r\\n)')), pattern = '\\s', simplify = FALSE)
) %>% arrange(name, n, m)
tabela %>%
mutate(draft2 = list(draft = as.integer(unlist(draft))))
tabela %>%
mutate(draft2 = list(draft = as.integer(unlist(draft)))) %>% pull(draft2)
tabela %>%
mutate(draft2 = sapply(draf, function(x) list(draft = as.integer(unlist(x)))))
tabela %>%
mutate(draft2 = sapply(draft, function(x) list(draft = as.integer(unlist(x)))))
teste <- tabela %>%
mutate(draft2 = sapply(draft, function(x) list(draft = as.integer(unlist(x)))))
teste$draft2[1]
