index <- 2
distance <- tspdl_data[index,]$distance %>% unlist
demand <- tspdl_data[index,]$demand %>% unlist
draft <- tspdl_data[index,]$draft %>% unlist
N <- tspdl_data[index,]$N
index <- 1
distance <- tspdl_data[index,]$distance %>% unlist
demand <- tspdl_data[index,]$demand %>% unlist
draft <- tspdl_data[index,]$draft %>% unlist
N <- tspdl_data[index,]$N
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
library(brkga)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
library(brkga)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
library(brkga)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
distance
demand
draft
tspdl_data[1,]
library(brkga)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
rst
library(brkga)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
library(brkga)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
rst
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N, MAX_GENS = 100,
rngSeed = 0)
rst
library(brkga)
rst
R.version
tspdl_data <-read_rds("inst/extdata/TSPDL_DATA.rds")
library(tidyverse)
library(brkga)
tspdl_data <-read_rds("inst/extdata/TSPDL_DATA.rds")
tspdl_data
View(tspdl_data)
tspdl_raw <-read_rds("inst/extdata/TSPDL_RAW.rds")
View(tspdl_raw)
index <- 1
tspdl_data[index,]
tspdl_data[index,]$distance
tspdl_data[index,]$distance %>% unlist
distance <- tspdl_data[index,]$distance %>% unlist
demand <- tspdl_data[index,]$demand %>% unlist
demand
draft
demand <- tspdl_data[index,]$demand %>% unlist
draft <- tspdl_data[index,]$draft %>% unlist
draft
N <- tspdl_data[index,]$N
N
rst <- calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
rngSeed = 0)
rst
rst$Tour
tspdl_data
library(brkga)
tspdl_data
library(brkga)
# Leitura das instâncias
tspdl_data <-read_rds("inst/extdata/TSPDL_DATA.rds")
# Imprimer informações
verbose = 2
# Número de réplicas por instância
Replicas = 1
# tibble para armazenar resultados
resultado <- tibble()
Instancia_initial = 1
Intanacia_final =  5
for (k in Instancia_initial:Intanacia_final){#
distance <- tspdl_data[k,]$distance %>% unlist
demand <- tspdl_data[k,]$demand %>% unlist
draft <- tspdl_data[k,]$draft %>% unlist
N <- tspdl_data[k,]$N
instance_name <- tspdl_data$name[k]
instance_n <- tspdl_data$n[k]
instance_m <- tspdl_data$m[k]
for (i in 1:Replicas){
cat(sprintf("Instance %d. Replication %d of %d.             \r", instance_name, i, Replicas))
seed <- 0 # as.integer(Sys.time())
#
rst <- brkga::calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
LS_INTVL = 1,
GEN_INTVL = 1,
MAX_TIME = 300,
p = 250,
pe = .2,
pm = .2,
rhoe = .75,
THREADS = 8,
K = 8,
MAX_GENS = 5000,
RESET_AFTER = 20,
verbose = verbose,
rngSeed = seed)
resultado <- bind_rows(
resultado,
tibble(
Replica = i,
Seed = seed,
Tour = list(rst$Tour),
MyTour = list(rst$MyTour),
BRKGA = rst$BKFitness,
N_gen = rst$`Generations Number`,
N_bst = rst$`Best Generation`,
Instancia = instance_name,
n = instance_n,
m = instance_m
)
)
}
rm(i, rst, seed, bestValue, distance, demand, draft, instance_name, instance_m, instance_n)
write_rds(resultado, path = "inst/extdata/cadlado_brkga_resultado.rds")
}
sprintf("Instance %S. Replication %d of %d.             \r", instance_name, i, Replicas)
sprintf("Instance %s. Replication %d of %d.             \r", instance_name, i, Replicas)
for (k in Instancia_initial:Intanacia_final){#
distance <- tspdl_data[k,]$distance %>% unlist
demand <- tspdl_data[k,]$demand %>% unlist
draft <- tspdl_data[k,]$draft %>% unlist
N <- tspdl_data[k,]$N
instance_name <- tspdl_data$name[k]
instance_n <- tspdl_data$n[k]
instance_m <- tspdl_data$m[k]
for (i in 1:Replicas){
cat(sprintf("Instance %s, n = %s, m = %s. Replication %d of %d.             \r", instance_name, instance_n, instance_m, i, Replicas))
seed <- 0 # as.integer(Sys.time())
#
rst <- brkga::calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
LS_INTVL = 1,
GEN_INTVL = 1,
MAX_TIME = 300,
p = 250,
pe = .2,
pm = .2,
rhoe = .75,
THREADS = 8,
K = 8,
MAX_GENS = 5000,
RESET_AFTER = 20,
verbose = verbose,
rngSeed = seed)
resultado <- bind_rows(
resultado,
tibble(
Replica = i,
Seed = seed,
Tour = list(rst$Tour),
MyTour = list(rst$MyTour),
BRKGA = rst$BKFitness,
N_gen = rst$`Generations Number`,
N_bst = rst$`Best Generation`,
Instancia = instance_name,
n = instance_n,
m = instance_m
)
)
}
rm(i, rst, seed, bestValue, distance, demand, draft, instance_name, instance_m, instance_n)
write_rds(resultado, path = "inst/extdata/cadlado_brkga_resultado.rds")
}
for (k in Instancia_initial:Intanacia_final){#
distance <- tspdl_data[k,]$distance %>% unlist
demand <- tspdl_data[k,]$demand %>% unlist
draft <- tspdl_data[k,]$draft %>% unlist
N <- tspdl_data[k,]$N
instance_name <- tspdl_data$name[k]
instance_n <- tspdl_data$n[k]
instance_m <- tspdl_data$m[k]
for (i in 1:Replicas){
cat(sprintf("Instance %s, n = %s, m = %s. Replication %d of %d.             \n", instance_name, instance_n, instance_m, i, Replicas))
seed <- 0 # as.integer(Sys.time())
#
rst <- brkga::calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
LS_INTVL = 1,
GEN_INTVL = 1,
MAX_TIME = 300,
p = 250,
pe = .2,
pm = .2,
rhoe = .75,
THREADS = 8,
K = 8,
MAX_GENS = 5000,
RESET_AFTER = 20,
verbose = verbose,
rngSeed = seed)
resultado <- bind_rows(
resultado,
tibble(
Replica = i,
Seed = seed,
Tour = list(rst$Tour),
MyTour = list(rst$MyTour),
BRKGA = rst$BKFitness,
N_gen = rst$`Generations Number`,
N_bst = rst$`Best Generation`,
Instancia = instance_name,
n = instance_n,
m = instance_m
)
)
}
rm(i, rst, seed, bestValue, distance, demand, draft, instance_name, instance_m, instance_n)
write_rds(resultado, path = "inst/extdata/cadlado_brkga_resultado.rds")
}
for (i in 1:Replicas){
cat(sprintf("Instance %s, n = %s, m = %s. Replication %d of %d.             \n", instance_name, instance_n, instance_m, i, Replicas))
seed <- 0 # as.integer(Sys.time())
#
rst <- brkga::calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
LS_INTVL = 1,
GEN_INTVL = 1,
MAX_TIME = 10,
p = 250,
pe = .2,
pm = .2,
rhoe = .75,
THREADS = 8,
K = 8,
MAX_GENS = 1000,
RESET_AFTER = 20,
verbose = verbose,
rngSeed = seed)
resultado <- bind_rows(
resultado,
tibble(
Replica = i,
Seed = seed,
Tour = list(rst$Tour),
MyTour = list(rst$MyTour),
BRKGA = rst$BKFitness,
N_gen = rst$`Generations Number`,
N_bst = rst$`Best Generation`,
Instancia = instance_name,
n = instance_n,
m = instance_m
)
)
}
Instancia_initial = 1
Intanacia_final =  5
for (k in Instancia_initial:Intanacia_final){#
distance <- tspdl_data[k,]$distance %>% unlist
demand <- tspdl_data[k,]$demand %>% unlist
draft <- tspdl_data[k,]$draft %>% unlist
N <- tspdl_data[k,]$N
instance_name <- tspdl_data$name[k]
instance_n <- tspdl_data$n[k]
instance_m <- tspdl_data$m[k]
for (i in 1:Replicas){
cat(sprintf("Instance %s, n = %s, m = %s. Replication %d of %d.             \n", instance_name, instance_n, instance_m, i, Replicas))
seed <- 0 # as.integer(Sys.time())
#
rst <- brkga::calado_brkga(DistanceVector = distance,
DemandVector = demand,
DraftVector = draft,
N = N,
LS_INTVL = 1,
GEN_INTVL = 1,
MAX_TIME = 10,
p = 250,
pe = .2,
pm = .2,
rhoe = .75,
THREADS = 8,
K = 8,
MAX_GENS = 1000,
RESET_AFTER = 20,
verbose = verbose,
rngSeed = seed)
resultado <- bind_rows(
resultado,
tibble(
Replica = i,
Seed = seed,
Tour = list(rst$Tour),
MyTour = list(rst$MyTour),
BRKGA = rst$BKFitness,
N_gen = rst$`Generations Number`,
N_bst = rst$`Best Generation`,
Instancia = instance_name,
n = instance_n,
m = instance_m
)
)
}
rm(i, rst, seed, bestValue, distance, demand, draft, instance_name, instance_m, instance_n)
write_rds(resultado, path = "inst/extdata/cadlado_brkga_resultado.rds")
}
View(resultado)
